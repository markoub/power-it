---
description: writting and running tests
globs: 
alwaysApply: false
---
- Use only integration tests, do not mock anything.
- When using playwright e2e tests, always use GetByTestId, so always adapt frontend to have 'data-testid' field, so you can use it in tests
- For Gemini API calls, use the recording/replaying mechanism in tests/test_integration_*.py to avoid making actual API calls during tests
- Run tests in recording mode (GEMINI_VCR_MODE=record) when API behavior changes or new tests are added
- Run tests in replay mode (default) for regular testing
- All fixtures should be stored in tests/fixtures/ directory
- do not start server with test results, just store results textually, so you can check it, and remediate code/tests further
